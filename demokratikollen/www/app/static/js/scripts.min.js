parties={mapChart:function(t){function a(t){return function(a){return a[t]}}function e(e){e.each(function(e){var s=e.max_municipality,l=d3.select(this).selectAll("svg").data([e.municipalities]);console.log(e.history),i.scale(10*n).translate([n/2,r/2]),o.projection(i);var c="rotate(10,"+n/2+","+r/2+")",u=l.enter().append("svg").append("g"),d=(u.attr("class","map-collection").attr("transform",c).selectAll(".map-region").data(t.features,a("id")).enter().append("path").attr("class","map-region").attr("d",o),l.attr("width",n).attr("height",r).selectAll(".map-region").data(e.municipalities,a("id"))),p=d3.rgb("#dddddd"),g=d3.rgb("green").darker(),h=d3.scale.linear().domain([0,s]).range([p,g]),m=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>"+t.id+":</strong> <span style='color:red'>"+Math.round(100*t.votes)+"</span> %"});d.call(m).on("mouseover",m.show).on("mouseout",m.hide),d.transition().duration(200).attr("fill",function(t){return h(t.votes)}),d.exit().transition().duration(200).attr("fill","black")})}var n=130,r=2.53846153846*n,i=d3.geo.conicEqualArea().parallels([50,70]).center([16.6358,62.1792]),o=d3.geo.path();return e.projection=function(t){return arguments.length?(i=t,e):i},e.width=function(t){return arguments.length?(n=t,r=2.53846153846*t,e):n},e.height=function(t){return arguments.length?(r=t,n=t/2.53846153846,e):r},e},setup:function(t,a){d3.json("/data/municipalities.topojson",function(e,n){var r=topojson.feature(n,n.objects.municipalities),i=parties.mapChart(r).width(150),o=d3.select(t);parties.updateMap=function(t){o.datum(t).call(i)},parties.updateMap(a)})}};
//# sourceMappingURL=../js/scripts.min.js.map